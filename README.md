## Проект "Сервис рассылок"

Django-проект для создания рассылок пользователям.

Сущности проекта:
- Клиент сервиса:
    - контактный email
    - фио
    - комментарий
- Рассылка (настройки)
    - время рассылки
    - периодичность: раз в день, раз в неделю, раз в месяц
    - статус рассылки (завершена, создана, запущена)
- Сообщение для рассылки
    - тема письма
    - тело письма
- Попытка рассылки
    - дата и время последней попытки
    - статус попытки
    - ответ почтового сервера, если он был
Для этих сущностей реализован CRUD.

Также в проекте есть блог, для которого также реализован CRUD.

- заголовок
- содержимое статьи
- изображение
- количество просмотров
- дата публикации

В блоге реализованы два типа кеширования страниц. Для списка статей и для списка черновиков.

При создании рассылки происходит запуск скрипта для отправки сообщений. Если время следующей отправки меньше текущего, происходит отправка.

Реализован интерфейс менеджера. Права менеджера проверяются по наличию признака is_staff.
### Функционал менеджера

- **может** просматривать любые рассылки
- **может** просматривать список пользователей сервиса
- **может** блокировать пользователей сервиса
- **может** отключать рассылки

- **не может** редактировать рассылки
- **не может** управлять списком рассылок
- **не может** изменять рассылки и сообщения

### Главная страница

На главной странице отображена следующая информация:

- количество рассылок всего
- количество активных рассылок
- количество уникальных клиентов для рассылок
- 3 случайные статьи из блога

## Права доступа
- Реализована регистрация пользователя по почте, а также верификация
- Реализован интерфейс для входа, регистрации и подтверждения почтового ящика
- Реализована генерация нового пароля
- Реализовано восстановление забытого пароля на почту
- Пользователи могут иметь доступ только к своим сообщениям, рассылкам и клиентам. Админ имеет доступ ко всем объектам.
- Реализована возможность для админа блокировать пользователей.

Для запуска проекта нужны следующие файлы:
- **database.ini**:

    [postgresql]
    host=localhost
    user=postgres
    password=
    port=5432

- **email.ini**:

    [email]
    email=
    password=

Для запуска периодических задач нужно запустить сервис cron следующей командой:
-sudo service cron start

Для запуска postgres:
- sudo service postgres start

Команды для добавления, просмотра и удаления заданий cron:
  * python manage.py crontab add
  * python manage.py crontab show
  * python manage.py crontab remove
